import java.util.Scanner;
class Account {
    private int balance = 20000;
    private int pin = 1234;
    private String lastTransaction = "No transactions";
    public int getBalance() {
        return balance;
    }

    public int getPin() {
        return pin;
    }

    public String getLastTransaction() {
        return lastTransaction;
    }
    public void setBalance(int balance) {
        this.balance = balance;
    }

    public void setPin(int pin) {
        this.pin = pin;
    }

    public void setLastTransaction(String lastTransaction) {
        this.lastTransaction = lastTransaction;
    }
}
public class ATM {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        Account acc = new Account();

        System.out.print("Enter your PIN: ");
        int enteredPin = sc.nextInt();

        if (enteredPin != acc.getPin()) {
            System.out.println("Incorrect PIN");
            return;
        }

        System.out.println("Welcome Moumiya!");

        while (true) {
            System.out.println("\n===== ATM Menu =====");
            System.out.println("1. Withdraw Cash");
            System.out.println("2. Deposit Cash");
            System.out.println("3. Check Balance");
            System.out.println("4. View Last Transaction");
            System.out.println("5. Reset PIN");
            System.out.println("6. Exit");

            System.out.print("Enter your choice: ");
            int choice = sc.nextInt();

            switch (choice) {
                case 1:
                    System.out.print("Enter the amount to withdraw: ");
                    int withdraw = sc.nextInt();
                    if (withdraw > 0 && withdraw <= acc.getBalance()) {
                        acc.setBalance(acc.getBalance() - withdraw);
                        acc.setLastTransaction("You withdrew: Rs." + withdraw);
                        System.out.println("Withdrawal successful! Please take your cash.");
                    } else if (withdraw > acc.getBalance()) {
                        System.out.println("Insufficient balance.");
                    } else {
                        System.out.println("Invalid amount. Please try again.");
                    }
                    break;

                case 2:
                    System.out.print("Enter the amount to deposit: ");
                    int deposit = sc.nextInt();
                    if (deposit > 0) {
                        acc.setBalance(acc.getBalance() + deposit);
                        acc.setLastTransaction("You deposited: Rs." + deposit);
                        System.out.println("Deposit successful!");
                    } else {
                        System.out.println("Invalid amount. Please try again.");
                    }
                    break;

                case 3:
                    System.out.println("Your current balance is: Rs." + acc.getBalance());
                    break;

                case 4:
                    System.out.println("Last transaction: " + acc.getLastTransaction());
                    break;

                case 5:
                    System.out.print("Enter current PIN to confirm: ");
                    int currentPin = sc.nextInt();
                    if (currentPin == acc.getPin()) {
                        System.out.print("Enter new PIN: ");
                        int newPin = sc.nextInt();
                        acc.setPin(newPin);
                        System.out.println("PIN successfully updated!");
                    } else {
                        System.out.println("Incorrect PIN. PIN reset failed.");
                    }
                    break;

                case 6:
                    System.out.println("Thank you for using the ATM. Goodbye!");
                    sc.close();
                    return;

                default:
                    System.out.println("Invalid choice. Please select a valid option.");
            }
        }
    }
}
